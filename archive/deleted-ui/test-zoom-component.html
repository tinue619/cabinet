<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>\ud83d\udd0d \u0422\u0435\u0441\u0442 ZoomControl - \u041c\u0438\u043a\u0440\u043e\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442</title>\n    <style>\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            margin: 20px;\n            background: #f5f7fa;\n        }\n        \n        .test-container {\n            max-width: 800px;\n            margin: 0 auto;\n            background: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        \n        .controls {\n            margin-bottom: 20px;\n            display: flex;\n            gap: 10px;\n            align-items: center;\n        }\n        \n        button {\n            padding: 8px 16px;\n            border: 1px solid #ddd;\n            background: #fff;\n            border-radius: 4px;\n            cursor: pointer;\n            transition: all 0.2s;\n        }\n        \n        button:hover {\n            background: #4a9eff;\n            color: white;\n            transform: translateY(-1px);\n        }\n        \n        .zoom-info {\n            padding: 8px 12px;\n            background: #f0f9ff;\n            border: 1px solid #93c5fd;\n            border-radius: 4px;\n            font-family: monospace;\n            font-weight: bold;\n        }\n        \n        #test-canvas {\n            border: 2px solid #e5e7eb;\n            background: #fafafa;\n            display: block;\n            margin: 20px 0;\n        }\n        \n        .log {\n            background: #f3f4f6;\n            border: 1px solid #d1d5db;\n            border-radius: 4px;\n            padding: 10px;\n            max-height: 200px;\n            overflow-y: auto;\n            font-family: monospace;\n            font-size: 12px;\n        }\n        \n        .log-entry {\n            margin: 2px 0;\n            padding: 2px 4px;\n        }\n        \n        .log-entry.success { color: #059669; }\n        .log-entry.info { color: #0369a1; }\n        .log-entry.error { color: #dc2626; }\n        \n        .status {\n            display: inline-block;\n            padding: 4px 8px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: bold;\n        }\n        \n        .status.pass {\n            background: #dcfce7;\n            color: #166534;\n        }\n        \n        .status.fail {\n            background: #fef2f2;\n            color: #dc2626;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"test-container\">\n        <h1>\ud83d\udd0d \u0422\u0435\u0441\u0442 ZoomControl \u041c\u0438\u043a\u0440\u043e\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430</h1>\n        \n        <div class=\"controls\">\n            <button id=\"btn-zoom-in\">\ud83d\udd0d+</button>\n            <button id=\"btn-zoom-out\">\ud83d\udd0d\u2212</button>\n            <button id=\"btn-zoom-fit\">\u22a1 Fit</button>\n            <button id=\"btn-zoom-reset\">\ud83d\udd04 Reset</button>\n            \n            <div class=\"zoom-info\">\n                \u041c\u0430\u0441\u0448\u0442\u0430\u0431: <span id=\"zoom-display\">100%</span>\n            </div>\n            \n            <div class=\"status pass\" id=\"test-status\">\u2705 \u041d\u0435 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d</div>\n        </div>\n        \n        <canvas id=\"test-canvas\" width=\"600\" height=\"400\"></canvas>\n        \n        <div class=\"log\" id=\"log-container\">\n            <div class=\"log-entry info\">\ud83d\udd0d \u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 ZoomControl...</div>\n        </div>\n    </div>\n\n    <script type=\"module\">\n        import { ZoomControl } from './cabinet-app/src/components/controls/ZoomControl.js';\n        \n        // \u041b\u043e\u0433\u0433\u0435\u0440 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0430\n        class TestLogger {\n            constructor(containerId) {\n                this.container = document.getElementById(containerId);\n            }\n            \n            log(message, type = 'info') {\n                const entry = document.createElement('div');\n                entry.className = `log-entry ${type}`;\n                entry.textContent = `${new Date().toLocaleTimeString()}: ${message}`;\n                this.container.appendChild(entry);\n                this.container.scrollTop = this.container.scrollHeight;\n            }\n            \n            success(message) { this.log(message, 'success'); }\n            error(message) { this.log(message, 'error'); }\n            info(message) { this.log(message, 'info'); }\n        }\n        \n        const logger = new TestLogger('log-container');\n        const zoomDisplay = document.getElementById('zoom-display');\n        const testStatus = document.getElementById('test-status');\n        \n        try {\n            // \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f ZoomControl\n            logger.info('\u0421\u043e\u0437\u0434\u0430\u0435\u043c ZoomControl...');\n            \n            const zoomControl = ZoomControl.createForCanvas('test-canvas');\n            \n            logger.success('\u2705 ZoomControl \u0441\u043e\u0437\u0434\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e');\n            \n            // \u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n            zoomControl.on('zoom-changed', (data) => {\n                const zoomPercent = Math.round(data.newZoom * 100);\n                zoomDisplay.textContent = `${zoomPercent}%`;\n                logger.success(`\ud83d\udd0d \u041c\u0430\u0441\u0448\u0442\u0430\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d: ${Math.round(data.oldZoom * 100)}% \u2192 ${zoomPercent}%`);\n            });\n            \n            // \u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a\u043d\u043e\u043f\u043e\u043a\n            document.getElementById('btn-zoom-in').addEventListener('click', () => {\n                logger.info('\ud83d\udcb1 \u041a\u043b\u0438\u043a Zoom In');\n                zoomControl.zoomIn();\n            });\n            \n            document.getElementById('btn-zoom-out').addEventListener('click', () => {\n                logger.info('\ud83d\udcb1 \u041a\u043b\u0438\u043a Zoom Out');\n                zoomControl.zoomOut();\n            });\n            \n            document.getElementById('btn-zoom-fit').addEventListener('click', () => {\n                logger.info('\ud83d\udcb1 \u041a\u043b\u0438\u043a Zoom Fit');\n                zoomControl.fitToView({ width: 800, height: 600 });\n            });\n            \n            document.getElementById('btn-zoom-reset').addEventListener('click', () => {\n                logger.info('\ud83d\udcb1 \u041a\u043b\u0438\u043a Zoom Reset');\n                zoomControl.setZoom(1.0);\n            });\n            \n            // \u0410\u0432\u0442\u043e\u0442\u0435\u0441\u0442\u044b\n            logger.info('\u0417\u0430\u043f\u0443\u0441\u043a \u0430\u0432\u0442\u043e\u0442\u0435\u0441\u0442\u043e\u0432...');\n            \n            // \u0422\u0435\u0441\u0442 1: \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n            if (zoomControl.currentZoom === 1.0) {\n                logger.success('\u2705 \u0422\u0435\u0441\u0442 1: \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 zoom = 1.0');\n            } else {\n                logger.error('\u274c \u0422\u0435\u0441\u0442 1: \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 zoom');\n            }\n            \n            // \u0422\u0435\u0441\u0442 2: \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043e\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\n            try {\n                zoomControl.currentZoom = 999; // \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\n                logger.error('\u274c \u0422\u0435\u0441\u0442 2: \u0418\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u044f \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0430!');\n            } catch (e) {\n                logger.success('\u2705 \u0422\u0435\u0441\u0442 2: \u0418\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442');\n            }\n            \n            // \u0422\u0435\u0441\u0442 3: \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439\n            zoomControl.setZoom(10); // \u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u0430\n            if (zoomControl.currentZoom === zoomControl.maxZoom) {\n                logger.success('\u2705 \u0422\u0435\u0441\u0442 3: \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f zoom \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442');\n            } else {\n                logger.error('\u274c \u0422\u0435\u0441\u0442 3: \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442');\n            }\n            \n            // \u0421\u0431\u0440\u043e\u0441 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\n            zoomControl.setZoom(1.0);\n            \n            testStatus.textContent = '\u2705 \u041c\u0438\u043a\u0440\u043e\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442';\n            logger.success('\ud83c\udf89 \u0412\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0448\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!');\n            logger.info('\ud83d\uddb1\ufe0f \u041c\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e');\n            \n        } catch (error) {\n            logger.error(`\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438: ${error.message}`);\n            testStatus.textContent = '\u274c \u041e\u0448\u0438\u0431\u043a\u0430';\n            testStatus.className = 'status fail';\n        }\n    </script>\n</body>\n</html>